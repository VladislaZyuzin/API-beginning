# Первая лаба по API
> Не знаю, зачем девопсу этим заниматься, но вай нот, как говорится
## Теория
**API** - это инструмент и правила для общения программ друг с другом. 
### Пример из жизни
Ты (клиент) в рестике (браузере) заказываешь еду (запрашиваешь видосики с пхаба), официант (API) передаёт твой заказ на кухню (посылает API запрос к серверу), через некоторое время офик приносит заказ (API получает ответ на запрос в JSON (стетхем) формате) тут ты замечаешь, как же он харош (браузер читает JSON код и переводит его в HTML, чтобы ты его увидел)
## Перейдём к практике 
Как ламер обыкновенный, который мнит из себя Стива Джобса я сейчас замутил запрос к `OpenWeatherMap API`, там я через код запрошу данные о погоде в Питере.
### Способ 1: Сделаю запрос напрямую через браузер, но не совсем
Для этого нужно ввести: ```https://api.openweathermap.org/data/2.5/weather?q=Санкт-Петербург&appid=ТУТ_БУДЕТ_КЛЮЧ&units=metric&lang=ru```
В итоге, если не выдалась ошибка 401 или 404, то будет что то вроде такого:
```json
{"coord":{"lon":30.2642,"lat":59.8944},"weather":[{"id":803,"main":"Clouds","description":"облачно с прояснениями","icon":"04d"}],"base":"stations","main":{"temp":12.08,"feels_like":11.33,"temp_min":12.08,"temp_max":12.08,"pressure":1008,"humidity":76,"sea_level":1008,"grnd_level":1006},"visibility":10000,"wind":{"speed":7,"deg":130},"clouds":{"all":75},"dt":1747910339,"sys":{"type":1,"id":8926,"country":"RU","sunrise":1747876005,"sunset":1747939486},"timezone":10800,"id":498817,"name":"Санкт-Петербург","cod":200}
```
Много чего интуитивно понятно, например, на момент дня 22.05.2025 видно, что погода в питере порядка 12 градусов цельсия и т.п...

### Способ 2. Идём душить питона

Для того, чтобы заработало всё в виде, который более подходит нам - то напишу код на Python для реализациии задачи:
```py
import requests

api_key = "b9e91632854834d94ac5fcb020abbd48"
city = 'Санкт-Петербург'
url = f'https://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}&units=metric&lang=ru'

response = requests.get(url)  #Тут основная часть API начинается, тут наша программа делает запрос к сайту погоды для получения точной инфы
data = response.json()  # Создаём новую переменную, ссылаясь на библиотеку 

print(f"Погода в {data['name']}: {data['weather'][0]['description']}")
print(f"Температура: {data['main']['temp']} градусов цельсия")
```
